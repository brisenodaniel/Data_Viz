setwd("./lecture3-inclass")
setwd("./lecture3-inclass")
ccAB = rbind(ccA,ccB)
str(ccAB)
ccA = read.csv("./data/countrycharsA.csv")
ccB = read.csv("./data/countrycharsB.csv")
gdp = read.csv("./data/gdp.csv")
ccAB = rbind(ccA,ccB)
ccAB_gdp = cbind(ccAB, gdp)
require(dplyr)
install.packages("dplyr")
require(dplyr)
head(starwars)
nrow(starwars)
colnames(starwars)
ss1 = selet(starwars, height, gender)
ss1 = select(starwars, height, gender)
ss1 = select(starwars, height, gender)
ss1
ss2 = starwars %>%
select(height,gender)
ss2
%>%
setwd("./Data")
ccA = read.csv("countrycharsA.csv")
ccB = read.csv("countrycharsB.csv")
gdp = read.csv("gdp.csv")
ccAB_gdp = cbind(ccAB, gdp)
coords = readRDS("map.coords.RData")
coords = load("map.coords.RData")
coords
str(coords)
load("map.coords.RData")
countryData_inner = merge(ccAB_gdp, coords, by = "country")
View(coords)
View(coords)
countryData_outer = merge(ccAB_gdp, coords, by = "country", all = T)
View(countryData_inner)
View(countryData_inner)
View(countryData_outer)
countryData_left = merge(ccAB_gdp, coords, by = "country", all.x=T)
countryData_right = merge(ccAB_gdp, coords, by = "country", all.y=T)
countryData_right = merge(ccAB_gdp, coords, by = "country", all.y=T)
countryData_right = merge(ccAB_gdp, coords, by = "country", all.y=T)
q = quantile(countryData_inner)
q = quantile(countryData_inner$gdp)
q
interval = findInterval(countryData_inner$gdp, q)
interval
is.factor(interval)
gdp.q = factor(interval, labels = c(0, 25, 50, 75, 100))
gdp.q
gdp.q = factor(interval, labels = c("0%", "25%", "50%", "75%", "100%"))
gdp.q
gdp.q = factor(interval)
gdp.q
view(gdp.q$levels)
table(gdp.q$levels)
table(levels(gdp.q))
gdp.q_levels = table(levels(gdp.q))
View(gdp.q_levels)
interval = findInterval(countryData_inner$gdp, q, all.inside = T)
q = quantile(countryData_inner$gdp)
interval = findInterval(countryData_inner$gdp, q, all.inside = T)
gdp.q = factor(interval)
gdp.q_levels = table(levels(gdp.q))
view(gdp.q_levels)
View(gdp.q_levels)
levels(gdp.q)
gdp.q = factor(gdp.q, levels = rev(levels(gdp.q)))
levels(gdp.q)
gdp.q
countryData_q = cbind(countryData_inner,gdp.q)
View(countryData_q)
View(countryData_q)
view(countryData_q[gdp.q == 4])
View(countryData_q[gdp.q == 4])
View(countryData_q[countryData_q$gdp.q == 4])
countryData_q[gdp.q == 3]
countryData_q[countryData_q$gdp.q == 3]
countryData_q = cbind(countryData_inner,"gdpQuartile" = gdp.q)
countryData_q[countryData_q$gdpQuartile == 3]
countryData_q[countryData_q$gdpQuartile == 3,0]
View(countryData_q[countryData_q$gdpQuartile == 3,0])
View(countryData_q[countryData_q$gdpQuartile == 3,0])
View(countryData_q)
View(countryData_q)
View(countryData_q[countryData_q$gdpQuartile == 3,])
View(countryData_q[countryData_q$gdpQuartile == 4,])
b = abs(c(-4,3,3,0,-23))
b
b = mean(abs(c(-4,3,3,0,-23)))
b
q1_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 1, "gdpQuartile"]))
q1_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 1, "gdp"]))
q1_latitude
q1_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 1, "gdp"]))
q2_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 2, "gdp"]))
q3_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 3, "gdp"]))
q4_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 4, "gdp"]))
mean_latitudes = c(q1_latitude,q2_latitude,q3_latitude,q4_latitude)
mean_latitudes_tbl = table(mean_latitudes)
View(mean_latitudes_tbl)
countryData_q = cbind(countryData_inner,"gdpQuartile" = gdp.q)
q1_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 1, "lat"]))
q2_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 2, "lat"]))
q3_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 3, "lat"]))
q4_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 4, "lat"]))
mean_latitudes = c(q1_latitude,q2_latitude,q3_latitude,q4_latitude)
mean_latitudes_tbl = table(mean_latitudes)
View(mean_latitudes_tbl)
ccA = read.csv("./Data/countrycharsA.csv")
ccB = read.csv("./Data/countrycharsB.csv")
gdp = read.csv("./Data/gdp.csv")
ccAB_gdp = cbind(ccAB, gdp)
#load in coords dataframe
load("./Data/map.coords.RData")
setwd("..")
#create dataframe from task 5
ccA = read.csv("./Data/countrycharsA.csv")
ccB = read.csv("./Data/countrycharsB.csv")
gdp = read.csv("./Data/gdp.csv")
ccAB_gdp = cbind(ccAB, gdp)
#load in coords dataframe
load("./Data/map.coords.RData")
knitr::opts_chunk$set(echo = TRUE)
str(countryData_inner)
str(countryData_outer)
str(countryData_left)
str(countryData_right)
```{r Q1 echo=FALSE}
```{r Q1, echo=FALSE}
#create dataframe from task 5
ccA = read.csv("./Data/countrycharsA.csv")
ccB = read.csv("./Data/countrycharsB.csv")
gdp = read.csv("./Data/gdp.csv")
ccAB_gdp = cbind(ccAB, gdp)
#load in coords dataframe
load("./Data/map.coords.RData")
#do inner, outer, left and right joins
countryData_inner = merge(ccAB_gdp, coords, by = "country")
countryData_outer = merge(ccAB_gdp, coords, by = "country", all = T)
countryData_left = merge(ccAB_gdp, coords, by = "country", all.x=T)
countryData_right = merge(ccAB_gdp, coords, by = "country", all.y=T)
#compare dimensions
str(countryData_inner)
str(countryData_outer)
str(countryData_left)
str(countryData_right)
#create dataframe from task 5
ccA = read.csv("./Data/countrycharsA.csv")
ccB = read.csv("./Data/countrycharsB.csv")
gdp = read.csv("./Data/gdp.csv")
ccAB_gdp = cbind(ccAB, gdp)
#load in coords dataframe
load("./Data/map.coords.RData")
#do inner, outer, left and right joins
countryData_inner = merge(ccAB_gdp, coords, by = "country")
countryData_outer = merge(ccAB_gdp, coords, by = "country", all = T)
countryData_left = merge(ccAB_gdp, coords, by = "country", all.x=T)
countryData_right = merge(ccAB_gdp, coords, by = "country", all.y=T)
#compare dimensions
str(countryData_inner)
str(countryData_outer)
str(countryData_left)
str(countryData_right)
#create dataframe from task 5
ccA = read.csv("./Data/countrycharsA.csv")
ccB = read.csv("./Data/countrycharsB.csv")
gdp = read.csv("./Data/gdp.csv")
ccAB_gdp = cbind(ccAB, gdp)
#load in coords dataframe
load("./Data/map.coords.RData")
#do inner, outer, left and right joins
countryData_inner = merge(ccAB_gdp, coords, by = "country")
countryData_outer = merge(ccAB_gdp, coords, by = "country", all = T)
countryData_left = merge(ccAB_gdp, coords, by = "country", all.x=T)
countryData_right = merge(ccAB_gdp, coords, by = "country", all.y=T)
#compare dimensions
dim(countryData_inner)
dim(countryData_outer)
dim(countryData_left)
dim(countryData_right)
*Merge the data frame from Task 5 with coords via three different techniques: inner, right, and left merge.  Compare the dimensions of each of the resulting data frame and explain any differences you see. *
echo("Inner join")
print("Inner join")
#compare dimensions
print("Inner join")
dim(countryData_inner)
print("outer join")
dim(countryData_outer)
print("Left join")
dim(countryData_left)
print("right join")
dim(countryData_right)
q = quantile(countryData_inner$gdp)
str(q)
q
```{r Q2b}
interval = findInterval(countryData_inner$gdp, q, all.inside = T)
gdp.q = factor(interval)
gdp.q_levels = table(levels(gdp.q))
View(gdp.q_levels)
countryData_q = cbind(countryData_inner,"gdpQuartile" = gdp.q)
q1_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 1, "lat"]))
q2_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 2, "lat"]))
q3_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 3, "lat"]))
q4_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 4, "lat"]))
mean_latitudes = c(q1_latitude,q2_latitude,q3_latitude,q4_latitude)
mean_latitudes_tbl = table(mean_latitudes)
View(mean_latitudes_tbl)
mean_latitudes = c("Q1" = q1_latitude, "Q2" = q2_latitude,"Q3" = q3_latitude, "Q4" = q4_latitude)
mean_latitudes
mean_latitudes = c("Q1" = q1_latitude, "Q2" = q2_latitude,"Q3" = q3_latitude, "Q4" = q4_latitude)
mean_latitudes_tbl = table(mean_latitudes)
View(mean_latitudes_tbl)
countryData_q = cbind(countryData_inner,"gdpQuartile" = gdp.q)
q1_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 1, "lat"]))
q2_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 2, "lat"]))
q3_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 3, "lat"]))
q4_latitude = mean(abs(countryData_q[countryData_q$gdpQuartile == 4, "lat"]))
mean_latitudes = c("Q1" = q1_latitude, "Q2" = q2_latitude,"Q3" = q3_latitude, "Q4" = q4_latitude)
mean_latitudes
## Problem 2
*Suppose a researcher has a hypothesis that there is a relationship between gdp and distance from the equator, i .e. latitude. To explore this, the researcher would like to break   the gdp into quartiles and then look at the mean latitude (in absolute value) for each quartile. To do this, perform the following tasks:*
knitr::opts_chunk$set(echo = TRUE)
require(knitr)
colnames(gdp.q_levels) = c("Quartile")
gdp.q = factor(gdp.q, levels = rev(levels(gdp.q)))
gdp.q_levels = data.frame(levels(gdp.q))
colnames(gdp.q_levels) = c("Quartile")
kable(gdp.q_levels)
